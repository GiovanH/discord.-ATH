#!/usr/bin/env python
from athast import *
from tildeath import TildeAthInterp

interp = TildeAthInterp()
interp.ast = AthAstList([ProcreateStmt(VarExpr('LOOP'), None), ProcreateStmt(VarExpr('QUEUE'), VarExpr('NULL')), TildeAthLoop(False, VarExpr('LOOP'), AthAstList([PrintStmt([StringExpr('Select action:\\n')]), PrintStmt([StringExpr('[1] Add an item to queue\\n')]), PrintStmt([StringExpr('[2] View queue\\n')]), PrintStmt([StringExpr('[3] Exit\\n')]), InputStmt(VarExpr('CHOICE'), StringExpr('')), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(3)), 2), KillStmt(VarExpr('LOOP')), CondJumpStmt(None, 16), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(2)), 9), ProcreateStmt(VarExpr('BLAH'), None), ProcreateStmt(VarExpr('STACK'), VarExpr('NULL')), ReplicateStmt(VarExpr('TEMP'), VarExpr('QUEUE')), TildeAthLoop(False, VarExpr('BLAH'), AthAstList([BifurcateStmt(VarExpr('TEMP'), VarExpr('HEAD'), VarExpr('TEMP')), CondJumpStmt(VarExpr('TEMP'), 3), PrintStmt([StringExpr('~s\\n'), VarExpr('HEAD')]), AggregateStmt(VarExpr('STACK'), VarExpr('HEAD'), VarExpr('STACK')), CondJumpStmt(None, 1), KillStmt(VarExpr('BLAH'))], 'BLAH'), ExecuteStmt([VarExpr('NULL')])), PrintStmt([StringExpr('Stack print done.\\n')]), ProcreateStmt(VarExpr('OOF'), None), TildeAthLoop(False, VarExpr('OOF'), AthAstList([BifurcateStmt(VarExpr('STACK'), VarExpr('STACK'), VarExpr('TAIL')), PrintStmt([StringExpr('I went oof.\\n')]), CondJumpStmt(VarExpr('STACK'), 2), PrintStmt([StringExpr('~s\\n'), VarExpr('TAIL')]), CondJumpStmt(None, 1), KillStmt(VarExpr('OOF'))], 'OOF'), ExecuteStmt([VarExpr('NULL')])), PrintStmt([StringExpr('Queue print done.\\n')]), CondJumpStmt(None, 6), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(1)), 4), ReplicateStmt(VarExpr('ITEM'), StringExpr('')), InputStmt(VarExpr('ITEM'), StringExpr('Input string to add: ')), AggregateStmt(VarExpr('ITEM'), VarExpr('QUEUE'), VarExpr('QUEUE')), CondJumpStmt(None, 1), PrintStmt([StringExpr('Invalid input.')])], 'LOOP'), ExecuteStmt([VarExpr('NULL')])), KillStmt(VarExpr('THIS'))], 'THIS')
interp.execute()
