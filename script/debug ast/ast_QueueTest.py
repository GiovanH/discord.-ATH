#!/usr/bin/env python
from athast import *
from tildeath import TildeAthInterp

interp = TildeAthInterp()
interp.ast = AthAstList([ProcreateStmt(VarExpr('LOOP'), None), ProcreateStmt(VarExpr('QUEUE'), None), ProcreateStmt(VarExpr('FLAG'), None), TildeAthLoop(False, VarExpr('LOOP'), AthAstList([PrintStmt([StringExpr('Select action:\\n')]), PrintStmt([StringExpr('[1] Add an item to queue\\n')]), PrintStmt([StringExpr('[2] View queue\\n')]), PrintStmt([StringExpr('[3] Exit\\n')]), InputStmt(VarExpr('CHOICE'), StringExpr('')), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(3)), 2), KillStmt(VarExpr('LOOP')), CondJumpStmt(None, 22), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(2)), 11), CondJumpStmt(UnaryExpr('!', VarExpr('FLAG')), 8), ProcreateStmt(VarExpr('STACK'), None), ReplicateStmt(VarExpr('TEMP'), VarExpr('QUEUE')), BifurcateStmt(VarExpr('TEMP'), VarExpr('HEAD'), VarExpr('TEMP')), AggregateStmt(VarExpr('HEAD'), VarExpr('NULL'), VarExpr('STACK')), TildeAthLoop(False, VarExpr('TEMP'), AthAstList([BifurcateStmt(VarExpr('TEMP'), VarExpr('HEAD'), VarExpr('TEMP')), AggregateStmt(VarExpr('HEAD'), VarExpr('STACK'), VarExpr('STACK'))], 'TEMP'), ExecuteStmt([VarExpr('NULL')])), TildeAthLoop(False, VarExpr('STACK'), AthAstList([BifurcateStmt(VarExpr('STACK'), VarExpr('HEAD'), VarExpr('STACK')), PrintStmt([StringExpr('~s\\n'), VarExpr('HEAD')])], 'STACK'), ExecuteStmt([VarExpr('NULL')])), PrintStmt([StringExpr('Queue print done.\\n')]), CondJumpStmt(None, 12), PrintStmt([StringExpr('Queue is empty.\\n')]), CondJumpStmt(None, 10), CondJumpStmt(BinaryExpr('==', VarExpr('CHOICE'), IntExpr(1)), 8), ReplicateStmt(VarExpr('ITEM'), StringExpr('')), InputStmt(VarExpr('ITEM'), StringExpr('Input string to add: ')), CondJumpStmt(VarExpr('FLAG'), 3), AggregateStmt(VarExpr('ITEM'), VarExpr('NULL'), VarExpr('QUEUE')), KillStmt(VarExpr('FLAG')), CondJumpStmt(None, 3), AggregateStmt(VarExpr('ITEM'), VarExpr('QUEUE'), VarExpr('QUEUE')), CondJumpStmt(None, 1), PrintStmt([StringExpr('Invalid input.')])], 'LOOP'), ExecuteStmt([VarExpr('NULL')])), KillStmt(VarExpr('THIS'))], 'THIS')
interp.execute()
